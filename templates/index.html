{% extends "base.html" %}

{% block title %}Киберкоролевство - Пользователи{% endblock %}

{% block content %}
    {% from "components/carousel.html" import main_carousel %}
    {% from "components/user_cards.html" import user_card %}
    {% from "components/accordion.html" import info_accordion %}

    {{ main_carousel() }}

    <!-- Секция 2: О нас -->
    <section id="about" class="mb-5">
        <div class="card border-info bg-dark bg-opacity-75">
            <div class="card-body p-4">
                <h2 class="text-center mb-4 text-info">О Киберкоролевстве</h2>
                <div class="row justify-content-center">
                    <div class="col-lg-10 text-center text-white">
                        <p class="lead">Киберкоролевство - это передовое цифровое государство, где технологии и человеческий потенциал сливаются в единую гармонию.</p>
                        <p>Мы создаём будущее уже сегодня, объединяя лучшие умы планеты для решения задач нового тысячелетия.</p>
                        <p>Присоединяйтесь к нам и станьте частью революции!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Секция 3: Карточки -->
    <section id="users" class="mb-5">
        <h2 class="text-center mb-4" style="color: #00ffe7; text-shadow: 0 0 10px #00ffe7;">Пользователи Киберкоролевства</h2>
        <div class="row g-4 justify-content-center">
            {{ user_card(
                image="card_1.jpg",
                name="Айрон Молниевик",
                description="Главный инженер энергосетей. Контролирует распределение энергии по всему королевству.",
                email="iron@volt.com",
                city="Неонград",
                status="Активен"
            ) }}

            {{ user_card(
                image="card_2.png",
                name="Лумина Звездная",
                description="Астрофизик и исследователь. Открыла 12 новых галактик в прошлом году.",
                email="lumi@star.net",
                city="Космополис",
                status="В экспедиции"
            ) }}

            {{ user_card(
                image="card_3.png",
                name="Драконий Теневой",
                description="Глава кибербезопасности. Защищает королевство от цифровых угроз.",
                email="dragon@shadow.net",
                city="Цифровая сеть",
                status="На дежурстве"
            ) }}
        </div>
    </section>

    {{ info_accordion() }}
{% endblock %}

{% block extra_js %}
<script>
    // Анимация карточек при наведении
    document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-10px)';
            card.style.boxShadow = '0 10px 20px rgba(0, 255, 231, 0.4)';
            card.querySelector('img').style.transform = 'scale(1.05)';
        });

        card.addEventListener('mouseleave', () => {
            card.style.transform = '';
            card.style.boxShadow = '';
            card.querySelector('img').style.transform = '';
        });
    });

    // Динамическое обновление времени каждую секунду
    function updateTime() {
        const now = new Date();
        document.getElementById('current-time').textContent =
            now.toLocaleTimeString('ru-RU', {timeZone: '{{ datetime.timezone }}'});
    }

    // Обновляем сразу и запускаем таймер
    updateTime();
    setInterval(updateTime, 1000);
</script>
{% endblock %}